{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 20f66133a71779e9592f","webpack:///./lib/string.js","webpack:///./lib/replacements.js","webpack:///./lib/element.js","webpack:///./lib/index.js","webpack:///./lib/listen.js"],"names":[],"mappings":"AAAA,cACA,2BACA,uCACA,sCACA,IACA,aACA,6CAEA,kBACA,GAAC,mBACD,kBCTA,cAMA,IACA,iBAGA,mBACA,CACA,IACA,KAIA,2CAGA,aAGA,OACA,OAIA,IAzBA,eA4BA,MAGA,uBACA,GACA,kCACA,CACA,gBACA,cAGA,OAGA,iBACA,YACA,qBAA2B,UAA0B,UACrD,YAAiC,CAAe,QAChD,EAEA,aADA,QAIA,mBAAsD,wCAA+D,SAGrH,MAGA,2CC7DA,GAAM,GAAe,EAAQ,GAE7B,EAAO,QAAwB,aAC7B,CAMD,SALC,QAAa,QAAS,WACpB,IAAM,GAAoC,UAAtB,QAAO,GAAQ,GAAoB,EAAQ,GAAG,EAAQ,cAAgB,EAC1F,KAAM,EAAI,QAAQ,EACnB,KACD,IANF,4BCFA,GAAM,GAEe,uPAErB,EAAO,QACL,CACA,CAAC,OAAQ,kBAAgB,UAAY,EAAe,eAAiB,GACrE,GACwC,yJACxC,cACA,CAAC,4CACD,cACA,CAAC,aACD,YACA,CAAC,MAAO,kBAAgB,UAAY,EAAe,SAAW,GAC9D,GACoC,qFACpC,cACmC,mJACnC,cACkF,+HAClF,cACmD,mGACnD,cACyI,8KACzI,YACA,CAAC,KACD,UACA,CAAC,kBACD,YACA,CAAC,KAAM,yCCpBc,aACrB,IAA0F,CAI1F,CAJuC,8CAAY,QAAQ,EAAG,SAAS,mBAInE,GAAG,EACP,EAAI,EACJ,GAAM,EAAa,EACnB,WAGA,SAAK,EAAI,EAAG,EAAI,EAAW,OACzB,MAEA,KAAI,EAAkB,cACpB,OADiC,KAAK,YAC5B,KAAM,GAAM,EACtB,YAAQ,EAAK,WAAa,EACrB,OAAI,EAAK,YAAc,EAAK,WACjC,YAIJ,MAEE,WAFY,IAAM,CACpB,sBAEE,KAAI,EAAS,GACX,YAAS,GAAG,UAAsB,IAAM,EAAS,GAAG,UAAW,EAC1D,IAAI,EAAS,GAClB,UAAS,GAAG,MAAkB,IAAM,EAAS,GAAG,MAAO,EAG3D,KACD,UAE+B,iBAC9B,OAAO,GAAY,SAAU,EAAM,QAAQ,QAAQ,SACpD,G,CA9CD,GAAM,GAAS,EAEf,GAAM,EAA+B,WAAnB,QAAO,UAA2B,QAAQ,WAAa,EAGzE,EAAO,QAAmB,WACxB,CAED,MADC,OAFF,gCCEqB,aACnB,OAAwB,WAApB,QAAO,WACT,WAD4C,cACrC,WAAW,iBAAM,GAAQ,SAAS,KAEpC,MACL,QADgB,WAGhB,KAEH,KAhBD,GAAM,GAAe,EAAQ,GACvB,EAAe,EAAQ,GACvB,EAAe,EAAQ,GACvB,EAAe,EAGrB,GAaA,EAAiB,UACjB,EAAO,QAAiB,SACxB,EAAO,QAAkB,UACzB,EAAO,QAAuB,eAC9B,EAAO,QAAiB,uCCpBR,aACd,IAAM,GAAW,GAAI,kBAAkB,WACrC,GAAU,QAAS,WAAY,oBAC7B,eAAgB,EAAS,qDAAY,SACnC,MACD,aAH4B,oEAI9B,CACF,EACD,GAOD,SAPQ,WAAY,UACjB,GAAS,QAAQ,GAAQ,SAAS,KAChC,CACA,aAEH,YACD,KAjBF,GAAM,GAAU,EAAQ,GAClB,EAAU,EAAQ,GAmBxB,EAAO,WAAsB,WAE3B,IAEE,SAFE,YAAS,WAGZ,QAAM,IAAI,SACT,0BAAS,iBAET,iCAAM,GAA0B,YAAY,UAC1C,CACE,SADE,YAAS,aAEX,iBAEH,IAL+B,EAOnC,GAfD,EAiBA,EAAiB","file":"smartquotes.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"smartquotes\"] = factory();\n\telse\n\t\troot[\"smartquotes\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 20f66133a71779e9592f","const replacements = require('./replacements');\r\n\r\nmodule.exports = function(str, options) {\r\n  options = options || {};\r\n  replacements.forEach( replace => {\r\n    const replacement = typeof replace[1] === 'function' ? replace[1](options.retainLength) : replace[1];\r\n    str = str.replace(replace[0], replacement);\r\n  });\r\n  return str;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/string.js","const pL = 'a-zA-ZáàâäãåçéèêëíìîïñóòôöõúùûüýÿæœÁÀÂÄÃÅÇÉÈÊËÍÌÎÏÑÓÒÔÖÕÚÙÛÜÝŸÆŒ';\r\nconst word = `[${pL}_0-9]`;\r\nconst nonWord = `[^${pL}_0-9]`;\r\n\r\nmodule.exports = [\r\n  // triple prime\r\n  [/'''/g, retainLength => '\\u2034' + (retainLength ? '\\u2063\\u2063' : '')],\r\n  // beginning \"\r\n  [new RegExp(`(${nonWord}|^)\"(${word})`, 'g'), '$1\\u201c$2'],\r\n  // ending \"\r\n  [/(\\u201c[^\"]*)\"([^\"]*$|[^\\u201c\"]*\\u201c)/g, '$1\\u201d$2'],\r\n  // remaining \" at end of word\r\n  [/([^0-9])\"/g, '$1\\u201d'],\r\n  // double prime as two single quotes\r\n  [/''/g, retainLength => '\\u2033' + (retainLength ? '\\u2063' : '')],\r\n  // beginning '\r\n  [new RegExp(`(${nonWord}|^)'(\\\\S)`, 'g'), '$1\\u2018$2'],\r\n  // conjunction's possession\r\n  [new RegExp(`(${word})'([${pL}])`, 'ig'), '$1\\u2019$2'],\r\n  // abbrev. years like '93\r\n  [new RegExp(`(\\\\u2018)([0-9]{2}[^\\\\u2019]*)(\\\\u2018([^0-9]|$)|$|\\\\u2019[${pL}])`, 'ig'), '\\u2019$2$3'],\r\n  // ending '\r\n  [new RegExp(`((\\\\u2018[^']*)|[${pL}])'([^0-9]|$)`, 'ig'), '$1\\u2019$3'],\r\n  // backwards apostrophe\r\n  [new RegExp(`(\\\\B|^)\\\\u2018(?=([^\\\\u2018\\\\u2019]*\\\\u2019\\\\b)*([^\\\\u2018\\\\u2019]*\\\\B${nonWord}[\\\\u2018\\\\u2019]\\\\b|[^\\\\u2018\\\\u2019]*$))`, 'ig'), '$1\\u2019'],\r\n  // double straigt quotes -> closing curly quote\r\n  [/\"/g, '\\u201d'],\r\n  // closing curly quote preceding number -> double prime quote\r\n  [/([1-9]{1,})(”)/g, '$1\\u2033'],\r\n  // prime\r\n  [/'/g, '\\u2032']\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/replacements.js","const string = require('./string');\r\n\r\nconst TEXT_NODE = typeof Element !== 'undefined' && Element.TEXT_NODE || 3;\r\n\r\n\r\nmodule.exports = function(root) {\r\n  handleElement(root);\r\n  return root;\r\n};\r\n\r\nfunction handleElement(el) {\r\n  if (['CODE', 'PRE', 'SCRIPT', 'STYLE', 'NOSCRIPT'].indexOf(el.nodeName.toUpperCase()) !== -1) {\r\n    return;\r\n  }\r\n\r\n  let i, node, nodeInfo;\r\n  let text = '';\r\n  const childNodes = el.childNodes;\r\n  const textNodes = [];\r\n\r\n  // compile all text first so we handle working around child nodes\r\n  for (i = 0; i < childNodes.length; i++) {\r\n    node = childNodes[i];\r\n\r\n    if (node.nodeType === TEXT_NODE || node.nodeName === '#text') {\r\n      textNodes.push([node, text.length]);\r\n      text += node.nodeValue || node.value;\r\n    } else if (node.childNodes && node.childNodes.length) {\r\n      text += handleElement(node);\r\n    }\r\n\r\n  }\r\n  text = string(text, { retainLength: true });\r\n  for (i in textNodes) {\r\n    nodeInfo = textNodes[i];\r\n    if (nodeInfo[0].nodeValue) {\r\n      nodeInfo[0].nodeValue = substring(text, nodeInfo[0].nodeValue, nodeInfo[1]);\r\n    } else if (nodeInfo[0].value) {\r\n      nodeInfo[0].value = substring(text, nodeInfo[0].value, nodeInfo[1]);\r\n    }\r\n  }\r\n  return text;\r\n}\r\n\r\nfunction substring(text, value, position) {\r\n  return text.substr(position, value.length).replace('\\u2063', '');\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/element.js","const replacements = require('./replacements'),\r\n      element      = require('./element'),\r\n      listen       = require('./listen'),\r\n      string       = require('./string');\r\n\r\n\r\n// The smartquotes function should just delegate to the other functions\r\nfunction smartquotes(context) {\r\n  if (typeof document !== 'undefined' && typeof context === 'undefined') {\r\n    listen.runOnReady(() => element(document.body));\r\n    return smartquotes;\r\n  } else if (typeof context === 'string') {\r\n    return string(context);\r\n  } else {\r\n    return element(context);\r\n  }\r\n}\r\n\r\n\r\nmodule.exports = smartquotes;\r\nmodule.exports.string = string;\r\nmodule.exports.element = element;\r\nmodule.exports.replacements = replacements;\r\nmodule.exports.listen = listen;\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","const element = require('./element'),\r\n      string  = require('./string');\r\n\r\nfunction listen(root) {\r\n  const observer = new MutationObserver( mutations => {\r\n    mutations.forEach( mutation => {\r\n      for(let node of mutation.addedNodes) {\r\n        element(node);\r\n      }\r\n    });\r\n  });\r\n  listen.runOnReady( () => {\r\n    observer.observe(root || document.body, {\r\n      childList: true,\r\n      subtree: true\r\n    });\r\n  });\r\n  return observer;\r\n}\r\n\r\nlisten.runOnReady = function(run) {\r\n  // if called without arguments, run on the entire body after the document has loaded\r\n  if (document.readyState !== 'loading') {\r\n    // we're already ready\r\n    run();\r\n  } else if (document.addEventListener) {\r\n    document.addEventListener('DOMContentLoaded', run, false);\r\n  } else {\r\n    const readyStateCheckInterval = setInterval(() => {\r\n      if (document.readyState !== 'loading') {\r\n        clearInterval(readyStateCheckInterval);\r\n        run();\r\n      }\r\n    }, 10);\r\n  }\r\n};\r\n\r\nmodule.exports = listen;\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/listen.js"],"sourceRoot":""}